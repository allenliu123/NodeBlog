{% extends 'layout.html' %}

{% block main%}
<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item active" aria-current="page">内容首页</li>
  </ol>
</nav>

<h3>内容首页</h3>

<table class="table table-hover table-striped">
	<tr>
		<th>_id</th>
		<th>分类名</th>
		<th>标题</th>
		<th>作者</th>
		<th>时间</th>
		<th>操作</th>
	</tr>
	{% for content in contents %}
	<tr>
		<td>{{content.id}}</td>
		<td>{{content.category.name}}</td>
		<td>{{content.title}}</td>
		<td>{{content.user.username}}</td>
		<td>{{content.addTime|date('Y-m-d h:i:s',-8*60)}}</td>
		<td>
			<a href="/admin/content/edit?id={{content._id.toString()}}">edit</a> |
			<a href="/admin/content/delete?id={{content._id.toString()}}">delete</a>
		</td>
	</tr>
	{% endfor %}
</table>

<nav aria-label="Page navigation example">
	<ul class="pagination justify-content-center">
		{% if page == 1 %}
		<li class="page-item disabled"><a class="page-link" href="">上一页</a></li>
		{% else %}
		<li class="page-item"><a class="page-link" href="/admin/content?page={{page-1}}">上一页</a></li>
		{% endif %}

		{% for i in array %}
		<li class="page-item"><a class="page-link" href="/admin/content?page={{i}}">{{i}}</a></li>
		{% endfor %}

		{% if page == pages %}
		<li class="page-item disabled"><a class="page-link" href="">下一页</a></li>
		{% else %}
		<li class="page-item"><a class="page-link" href="/admin/content?page={{page+1}}">下一页</a></li>
		{% endif %}
	</ul>
</nav>


{% endblock %}
